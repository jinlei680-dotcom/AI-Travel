{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lujinlei/Documents/code/AI-Travel-Homework/AI-Travel/web/src/lib/supabase.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from '@supabase/supabase-js'\n\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL || process.env.SUPABASE_URL\nconst SUPABASE_ANON_KEY = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || process.env.SUPABASE_ANON_KEY\n\n// 惰性获取客户端，避免在环境变量未配置时抛错，影响页面渲染\nexport function getSupabaseClient(): SupabaseClient | null {\n  if (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n    return null\n  }\n  return createClient(SUPABASE_URL, SUPABASE_ANON_KEY)\n}"],"names":[],"mappings":";;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,kMAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI,kMAAO,CAAC,GAAG,CAAC,YAAY;AACrF,MAAM,oBAAoB,kMAAO,CAAC,GAAG,CAAC,6BAA6B,IAAI,kMAAO,CAAC,GAAG,CAAC,iBAAiB;AAG7F,SAAS;IACd,IAAI,CAAC,gBAAgB,CAAC,mBAAmB;QACvC,OAAO;IACT;IACA,OAAO,IAAA,iOAAY,EAAC,cAAc;AACpC","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/lujinlei/Documents/code/AI-Travel-Homework/AI-Travel/web/src/components/Button.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\ntype ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"danger\";\n  size?: \"sm\" | \"md\" | \"lg\";\n};\n\nconst base = \"inline-flex items-center justify-center font-medium rounded-md transition-colors disabled:opacity-60 disabled:cursor-not-allowed\";\n\nconst variantClass: Record<NonNullable<ButtonProps[\"variant\"]>, string> = {\n  primary:\n    \"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-500 hover:to-indigo-500\",\n  secondary:\n    \"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-200\",\n  ghost:\n    \"bg-transparent text-gray-700 hover:bg-gray-100\",\n  danger:\n    \"bg-red-600 text-white hover:bg-red-500\",\n};\n\nconst sizeClass: Record<NonNullable<ButtonProps[\"size\"]>, string> = {\n  sm: \"px-2.5 py-1.5 text-sm\",\n  md: \"px-4 py-2 text-sm\",\n  lg: \"px-5 py-2.5 text-base\",\n};\n\nexport default function Button({\n  variant = \"primary\",\n  size = \"md\",\n  className = \"\",\n  children,\n  ...props\n}: ButtonProps) {\n  const cls = [base, variantClass[variant], sizeClass[size], className]\n    .filter(Boolean)\n    .join(\" \");\n  return (\n    <button className={cls} {...props}>\n      {children}\n    </button>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;AAQA,MAAM,OAAO;AAEb,MAAM,eAAoE;IACxE,SACE;IACF,WACE;IACF,OACE;IACF,QACE;AACJ;AAEA,MAAM,YAA8D;IAClE,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEe,SAAS,OAAO,EAC7B,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,YAAY,EAAE,EACd,QAAQ,EACR,GAAG,OACS;IACZ,MAAM,MAAM;QAAC;QAAM,YAAY,CAAC,QAAQ;QAAE,SAAS,CAAC,KAAK;QAAE;KAAU,CAClE,MAAM,CAAC,SACP,IAAI,CAAC;IACR,qBACE,oNAAC;QAAO,WAAW;QAAM,GAAG,KAAK;kBAC9B;;;;;;AAGP;KAfwB","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/lujinlei/Documents/code/AI-Travel-Homework/AI-Travel/web/src/components/NavBar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { getSupabaseClient } from \"@/lib/supabase\";\nimport Button from \"./Button\";\n\nexport default function NavBar() {\n  const [email, setEmail] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const supabase = getSupabaseClient();\n    if (!supabase) {\n      setLoading(false);\n      return;\n    }\n\n    supabase.auth.getSession().then(({ data }) => {\n      const userEmail = data.session?.user?.email ?? null;\n      setEmail(userEmail);\n      setLoading(false);\n    });\n\n    const { data: sub } = supabase.auth.onAuthStateChange((_, session) => {\n      const userEmail = session?.user?.email ?? null;\n      setEmail(userEmail);\n    });\n    return () => {\n      sub?.subscription.unsubscribe();\n    };\n  }, []);\n\n  const handleSignOut = async () => {\n    const supabase = getSupabaseClient();\n    if (!supabase) return;\n    await supabase.auth.signOut();\n    setEmail(null);\n  };\n\n  return (\n    <header className=\"w-full border-b border-gray-100 bg-white/80 backdrop-blur dark:border-zinc-800 dark:bg-black/60\">\n      <div className=\"mx-auto flex max-w-6xl items-center justify-between px-4 py-3\">\n        <Link\n          href=\"/\"\n          className=\"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600\"\n        >\n          AI Travel\n        </Link>\n        <nav className=\"flex items-center gap-3 text-sm\">\n          <Link href=\"/dashboard\" className=\"text-zinc-700 hover:text-zinc-900 dark:text-zinc-300\">\n            Dashboard\n          </Link>\n          {loading && <span className=\"text-zinc-500 dark:text-zinc-400\">加载中...</span>}\n          {!loading && email && (\n            <>\n              <span className=\"hidden sm:inline text-zinc-500 dark:text-zinc-400\">{email}</span>\n              <Button onClick={handleSignOut} size=\"sm\">\n                退出\n              </Button>\n            </>\n          )}\n          {!loading && !email && (\n            <Link href=\"/login\">\n              <Button variant=\"secondary\" size=\"sm\">登录</Button>\n            </Link>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gMAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gMAAQ,EAAC;IAEvC,IAAA,iMAAS;4BAAC;YACR,MAAM,WAAW,IAAA,qKAAiB;YAClC,IAAI,CAAC,UAAU;gBACb,WAAW;gBACX;YACF;YAEA,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI;oCAAC,CAAC,EAAE,IAAI,EAAE;oBACvC,MAAM,YAAY,KAAK,OAAO,EAAE,MAAM,SAAS;oBAC/C,SAAS;oBACT,WAAW;gBACb;;YAEA,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB;oCAAC,CAAC,GAAG;oBACxD,MAAM,YAAY,SAAS,MAAM,SAAS;oBAC1C,SAAS;gBACX;;YACA;oCAAO;oBACL,KAAK,aAAa;gBACpB;;QACF;2BAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,MAAM,WAAW,IAAA,qKAAiB;QAClC,IAAI,CAAC,UAAU;QACf,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,SAAS;IACX;IAEA,qBACE,oNAAC;QAAO,WAAU;kBAChB,cAAA,oNAAC;YAAI,WAAU;;8BACb,oNAAC,iMAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;8BAGD,oNAAC;oBAAI,WAAU;;sCACb,oNAAC,iMAAI;4BAAC,MAAK;4BAAa,WAAU;sCAAuD;;;;;;wBAGxF,yBAAW,oNAAC;4BAAK,WAAU;sCAAmC;;;;;;wBAC9D,CAAC,WAAW,uBACX;;8CACE,oNAAC;oCAAK,WAAU;8CAAqD;;;;;;8CACrE,oNAAC,iKAAM;oCAAC,SAAS;oCAAe,MAAK;8CAAK;;;;;;;;wBAK7C,CAAC,WAAW,CAAC,uBACZ,oNAAC,iMAAI;4BAAC,MAAK;sCACT,cAAA,oNAAC,iKAAM;gCAAC,SAAQ;gCAAY,MAAK;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpD;GAhEwB;KAAA","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/lujinlei/Documents/code/AI-Travel-Homework/AI-Travel/web/src/components/Providers.tsx"],"sourcesContent":["\"use client\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  // 在客户端创建单例 QueryClient\n  const [client] = useState(() => new QueryClient({\n    defaultOptions: {\n      queries: {\n        staleTime: 60_000,\n        refetchOnWindowFocus: false,\n        retry: 1,\n      },\n    },\n  }));\n  return <QueryClientProvider client={client}>{children}</QueryClientProvider>;\n}"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;;;AAFA;;;AAIe,SAAS,UAAU,EAAE,QAAQ,EAAiC;;IAC3E,uBAAuB;IACvB,MAAM,CAAC,OAAO,GAAG,IAAA,gMAAQ;8BAAC,IAAM,IAAI,sNAAW,CAAC;gBAC9C,gBAAgB;oBACd,SAAS;wBACP,WAAW;wBACX,sBAAsB;wBACtB,OAAO;oBACT;gBACF;YACF;;IACA,qBAAO,oNAAC,uOAAmB;QAAC,QAAQ;kBAAS;;;;;;AAC/C;GAZwB;KAAA","debugId":null}}]
}